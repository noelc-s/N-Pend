function res = pendOde(t,q,dq,p)
res = zeros(6,1);
res(1) =dq(3) - q(6);
res(2) =dq(2) - q(5);
res(3) =dq(1) - q(4);
res(4) =(981*p.l(1)*p.m(1)*sin(q(1)))/100 - p.b(1)*q(4) + (981*p.l(1)*p.m(2)*sin(q(1)))/100 + (981*p.l(1)*p.m(3)*sin(q(1)))/100 + dq(4)*p.l(1)^2*p.m(1) + dq(4)*p.l(1)^2*p.m(2) + dq(4)*p.l(1)^2*p.m(3) + p.l(1)*p.l(2)*p.m(2)*(dq(5)*cos(q(1) - q(2)) - q(5)*sin(q(1) - q(2))*(q(4) - q(5))) + p.l(1)*p.l(2)*p.m(3)*(dq(5)*cos(q(1) - q(2)) - q(5)*sin(q(1) - q(2))*(q(4) - q(5))) + p.l(1)*p.l(3)*p.m(3)*(dq(6)*cos(q(1) - q(3)) - q(6)*sin(q(1) - q(3))*(q(4) - q(6))) + p.l(1)*p.l(2)*p.m(2)*q(4)*q(5)*sin(q(1) - q(2)) + p.l(1)*p.l(2)*p.m(3)*q(4)*q(5)*sin(q(1) - q(2)) + p.l(1)*p.l(3)*p.m(3)*q(4)*q(6)*sin(q(1) - q(3));
res(5) =(981*p.l(2)*p.m(2)*sin(q(2)))/100 - p.b(2)*q(5) + (981*p.l(2)*p.m(3)*sin(q(2)))/100 + dq(5)*p.l(2)^2*p.m(2) + dq(5)*p.l(2)^2*p.m(3) + p.l(1)*p.l(2)*p.m(2)*(dq(4)*cos(q(1) - q(2)) - q(4)*sin(q(1) - q(2))*(q(4) - q(5))) + p.l(1)*p.l(2)*p.m(3)*(dq(4)*cos(q(1) - q(2)) - q(4)*sin(q(1) - q(2))*(q(4) - q(5))) + p.l(2)*p.l(3)*p.m(3)*(dq(6)*cos(q(2) - q(3)) - q(6)*sin(q(2) - q(3))*(q(5) - q(6))) - p.l(1)*p.l(2)*p.m(2)*q(4)*q(5)*sin(q(1) - q(2)) - p.l(1)*p.l(2)*p.m(3)*q(4)*q(5)*sin(q(1) - q(2)) + p.l(2)*p.l(3)*p.m(3)*q(5)*q(6)*sin(q(2) - q(3));
res(6) =(981*p.l(3)*p.m(3)*sin(q(3)))/100 - p.b(3)*q(6) + dq(6)*p.l(3)^2*p.m(3) + p.l(1)*p.l(3)*p.m(3)*(dq(4)*cos(q(1) - q(3)) - q(4)*sin(q(1) - q(3))*(q(4) - q(6))) + p.l(2)*p.l(3)*p.m(3)*(dq(5)*cos(q(2) - q(3)) - q(5)*sin(q(2) - q(3))*(q(5) - q(6))) - p.l(1)*p.l(3)*p.m(3)*q(4)*q(6)*sin(q(1) - q(3)) - p.l(2)*p.l(3)*p.m(3)*q(5)*q(6)*sin(q(2) - q(3));
u=p.controller(t,q,p);
res(4) =res(4) + u(1);
res(5) =res(5) + u(2);
res(6) =res(6) + u(3);
end