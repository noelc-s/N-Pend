function res = pendOde(t,q,dq,p)
res = zeros(8,1);
res(1) =dq(4) - q(8);
res(2) =dq(3) - q(7);
res(3) =dq(2) - q(6);
res(4) =dq(1) - q(5);
res(5) =(981*p.l(1)*p.m(1)*sin(q(1)))/100 - p.b(1)*q(5) + (981*p.l(1)*p.m(2)*sin(q(1)))/100 + (981*p.l(1)*p.m(3)*sin(q(1)))/100 + (981*p.l(1)*p.m(4)*sin(q(1)))/100 + dq(5)*p.l(1)^2*p.m(1) + dq(5)*p.l(1)^2*p.m(2) + dq(5)*p.l(1)^2*p.m(3) + dq(5)*p.l(1)^2*p.m(4) + p.l(1)*p.l(2)*p.m(2)*(dq(6)*cos(q(1) - q(2)) - q(6)*sin(q(1) - q(2))*(q(5) - q(6))) + p.l(1)*p.l(2)*p.m(3)*(dq(6)*cos(q(1) - q(2)) - q(6)*sin(q(1) - q(2))*(q(5) - q(6))) + p.l(1)*p.l(2)*p.m(4)*(dq(6)*cos(q(1) - q(2)) - q(6)*sin(q(1) - q(2))*(q(5) - q(6))) + p.l(1)*p.l(3)*p.m(3)*(dq(7)*cos(q(1) - q(3)) - q(7)*sin(q(1) - q(3))*(q(5) - q(7))) + p.l(1)*p.l(3)*p.m(4)*(dq(7)*cos(q(1) - q(3)) - q(7)*sin(q(1) - q(3))*(q(5) - q(7))) + p.l(1)*p.l(4)*p.m(4)*(dq(8)*cos(q(1) - q(4)) - q(8)*sin(q(1) - q(4))*(q(5) - q(8))) + p.l(1)*p.l(2)*p.m(2)*q(5)*q(6)*sin(q(1) - q(2)) + p.l(1)*p.l(2)*p.m(3)*q(5)*q(6)*sin(q(1) - q(2)) + p.l(1)*p.l(2)*p.m(4)*q(5)*q(6)*sin(q(1) - q(2)) + p.l(1)*p.l(3)*p.m(3)*q(5)*q(7)*sin(q(1) - q(3)) + p.l(1)*p.l(3)*p.m(4)*q(5)*q(7)*sin(q(1) - q(3)) + p.l(1)*p.l(4)*p.m(4)*q(5)*q(8)*sin(q(1) - q(4));
res(6) =(981*p.l(2)*p.m(2)*sin(q(2)))/100 - p.b(2)*q(6) + (981*p.l(2)*p.m(3)*sin(q(2)))/100 + (981*p.l(2)*p.m(4)*sin(q(2)))/100 + dq(6)*p.l(2)^2*p.m(2) + dq(6)*p.l(2)^2*p.m(3) + dq(6)*p.l(2)^2*p.m(4) + p.l(1)*p.l(2)*p.m(2)*(dq(5)*cos(q(1) - q(2)) - q(5)*sin(q(1) - q(2))*(q(5) - q(6))) + p.l(1)*p.l(2)*p.m(3)*(dq(5)*cos(q(1) - q(2)) - q(5)*sin(q(1) - q(2))*(q(5) - q(6))) + p.l(1)*p.l(2)*p.m(4)*(dq(5)*cos(q(1) - q(2)) - q(5)*sin(q(1) - q(2))*(q(5) - q(6))) + p.l(2)*p.l(3)*p.m(3)*(dq(7)*cos(q(2) - q(3)) - q(7)*sin(q(2) - q(3))*(q(6) - q(7))) + p.l(2)*p.l(3)*p.m(4)*(dq(7)*cos(q(2) - q(3)) - q(7)*sin(q(2) - q(3))*(q(6) - q(7))) + p.l(2)*p.l(4)*p.m(4)*(dq(8)*cos(q(2) - q(4)) - q(8)*sin(q(2) - q(4))*(q(6) - q(8))) - p.l(1)*p.l(2)*p.m(2)*q(5)*q(6)*sin(q(1) - q(2)) - p.l(1)*p.l(2)*p.m(3)*q(5)*q(6)*sin(q(1) - q(2)) - p.l(1)*p.l(2)*p.m(4)*q(5)*q(6)*sin(q(1) - q(2)) + p.l(2)*p.l(3)*p.m(3)*q(6)*q(7)*sin(q(2) - q(3)) + p.l(2)*p.l(3)*p.m(4)*q(6)*q(7)*sin(q(2) - q(3)) + p.l(2)*p.l(4)*p.m(4)*q(6)*q(8)*sin(q(2) - q(4));
res(7) =(981*p.l(3)*p.m(3)*sin(q(3)))/100 - p.b(3)*q(7) + (981*p.l(3)*p.m(4)*sin(q(3)))/100 + dq(7)*p.l(3)^2*p.m(3) + dq(7)*p.l(3)^2*p.m(4) + p.l(1)*p.l(3)*p.m(3)*(dq(5)*cos(q(1) - q(3)) - q(5)*sin(q(1) - q(3))*(q(5) - q(7))) + p.l(1)*p.l(3)*p.m(4)*(dq(5)*cos(q(1) - q(3)) - q(5)*sin(q(1) - q(3))*(q(5) - q(7))) + p.l(2)*p.l(3)*p.m(3)*(dq(6)*cos(q(2) - q(3)) - q(6)*sin(q(2) - q(3))*(q(6) - q(7))) + p.l(2)*p.l(3)*p.m(4)*(dq(6)*cos(q(2) - q(3)) - q(6)*sin(q(2) - q(3))*(q(6) - q(7))) + p.l(3)*p.l(4)*p.m(4)*(dq(8)*cos(q(3) - q(4)) - q(8)*sin(q(3) - q(4))*(q(7) - q(8))) - p.l(1)*p.l(3)*p.m(3)*q(5)*q(7)*sin(q(1) - q(3)) - p.l(1)*p.l(3)*p.m(4)*q(5)*q(7)*sin(q(1) - q(3)) - p.l(2)*p.l(3)*p.m(3)*q(6)*q(7)*sin(q(2) - q(3)) - p.l(2)*p.l(3)*p.m(4)*q(6)*q(7)*sin(q(2) - q(3)) + p.l(3)*p.l(4)*p.m(4)*q(7)*q(8)*sin(q(3) - q(4));
res(8) =(981*p.l(4)*p.m(4)*sin(q(4)))/100 - p.b(4)*q(8) + dq(8)*p.l(4)^2*p.m(4) + p.l(1)*p.l(4)*p.m(4)*(dq(5)*cos(q(1) - q(4)) - q(5)*sin(q(1) - q(4))*(q(5) - q(8))) + p.l(2)*p.l(4)*p.m(4)*(dq(6)*cos(q(2) - q(4)) - q(6)*sin(q(2) - q(4))*(q(6) - q(8))) + p.l(3)*p.l(4)*p.m(4)*(dq(7)*cos(q(3) - q(4)) - q(7)*sin(q(3) - q(4))*(q(7) - q(8))) - p.l(1)*p.l(4)*p.m(4)*q(5)*q(8)*sin(q(1) - q(4)) - p.l(2)*p.l(4)*p.m(4)*q(6)*q(8)*sin(q(2) - q(4)) - p.l(3)*p.l(4)*p.m(4)*q(7)*q(8)*sin(q(3) - q(4));
u=p.controller(t,q,p);
res(5) =res(5) + u(1);
res(6) =res(6) + u(2);
res(7) =res(7) + u(3);
res(8) =res(8) + u(4);
end